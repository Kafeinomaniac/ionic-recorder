<!-- Copyright (c) 2017 Tracktunes Inc -->

<ion-header>
    <ion-navbar>
        <button ion-button menuToggle>
            <ion-icon name="menu"></ion-icon>
        </button>
        <ion-title *ngIf="folderNode">
            Organizer
        </ion-title>
        <ion-buttons end *ngIf="nChecked">
            <button ion-button small (click)="onClickSelectedBadge()">
                <ion-badge item-right>
                    {{nChecked}} selected &nbsp; <ion-icon name="md-create"></ion-icon>
                </ion-badge>
            </button>
        </ion-buttons>
    </ion-navbar>
    <ion-toolbar>
        <p *ngIf="directoryEntry" text-center>
            {{directoryEntry.fullPath}}
        </p>
        <button-bar [buttons]="headerButtons">
        </button-bar>
    </ion-toolbar>
</ion-header>

<ion-content>
    <ion-list reorder="true" (ionItemReorder)="reorderEntries($event)" *ngIf="entries.length > 1">
        <!-- multiple items - use list that allows reordering of items via drag -->
        <ion-item clear *ngFor="let entry of entries" class="organizer-page-item">
            <ion-label ion-button clear (click)="onClickEntry(entry)">
                <ion-icon [name]="entryIcon(entry)"></ion-icon>
                &nbsp; {{entry.name}}
            </ion-label>
            <ion-checkbox [ngModel]="entry.isChecked" (click)="onCheckEntry(entry)"></ion-checkbox>
        </ion-item>
    </ion-list>
    <ion-list *ngIf="entries.length === 1">
        <!-- only 1 item - use list with no reordering -->
        <ion-item clear *ngFor="let entry of entries" class="organizer-page-item">
            <ion-label ion-button clear (click)="onClickEntry(entry)">
                <ion-icon [name]="entryIcon(entry)"></ion-icon>
                &nbsp; {{entry.name}}
            </ion-label>
            <ion-checkbox [ngModel]="entry.isChecked" (click)="onCheckEntry(entry)"></ion-checkbox>
        </ion-item>
    </ion-list>
    <ion-list *ngIf="entries.length === 0">
        <!-- zero items - no reordering and use special item to denote empty folder -->
        <ion-item class="organizer-page-empty-folder-message">
            <h2>
                Empty folder
            </h2>
        </ion-item>
    </ion-list>
</ion-content>

<ion-footer [hidden]="!nChecked">
    <ion-toolbar>
        <button-bar [buttons]="footerButtons">
        </button-bar>
    </ion-toolbar>
</ion-footer>
