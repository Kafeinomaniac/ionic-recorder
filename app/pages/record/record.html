<!-- Copyright (c) 2016 Tracktunes Inc -->

<ion-navbar *navbar almost-dark>
    <button menuToggle>
        <ion-icon name="menu"></ion-icon>
    </button>
    <ion-title>Record</ion-title>
    <ion-buttons end *ngIf="currentVolume">
        <button small (click)="resetPeaksAtMax()">
            <ion-badge darkest-gray item-right>
                {{percentPeaksAtMax()}}% peaks@max
            </ion-badge>
        </button>
    </ion-buttons>
</ion-navbar>

<ion-content padding [class]="platform.platforms()">
    <ion-item class="monitor-switch">
        <ion-label>
            Monitor on/off
        </ion-label>
        <ion-toggle [checked]="monitorSwitchState" (click)="toggleMonitor()">
        </ion-toggle>
    </ion-item>
    <vu-gauge height="2.5em" nbars="55" [max]="maxVolume" [value]="currentVolume">
    </vu-gauge>
    <p hidden="true" class="gain-item-label">Gain: {{gain}}% ({{decibels}})
    </p>
    <input hidden="true" type="range" min="0" max="200" [value]="sliderValue" (input)="onSliderChange($event)" (touchstart)="onSliderDrag($event)"
    (mousedown)="onSliderDrag($event)">
    <div class="recording-time">
        {{recordingTime}}
    </div>
    <div class="record-upload-buttons">
        <button logo-red (click)="onClickStartPauseButton()">
            <ion-icon [name]="recordButtonIcon">
            </ion-icon>
        </button>
        <button logo-orange [disabled]="stopButtonDisabled()" (click)="onClickStopButton()">
            <ion-icon name="square">
            </ion-icon>
        </button>
    </div>
</ion-content>
